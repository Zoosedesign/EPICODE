<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <div class="row bg-secondary p-5"></div>
        <div class="row bg-dark p-5"></div>
        <div class="row bg-danger p-5"></div>
        <div class="row bg-success p-5"></div>
        <div class="row bg-primary p-5"></div>
        <div class="row bg-warning p-5"></div>
    </div>
    <script>
        const url = 'https://api.pexels.com/v1/search?query=';
        const apiKey = 'x8g58VNX0dYe9bETS6WALS6uk82AxyfPAFuKOtv7gJGPKfKkOhFIHGJB';

        fetch(url + 'cane', {
            method: 'GET',
            // body: JSON.stringify(newProduct), solo nelle PUT
            headers: {
                authorization: apiKey
            }
        })
            .then((response) => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('GET non riuscita');
                }
            })
            .then((data) => {
                const dogs = data;
                //esempio con forEach
                dogs.photos.forEach(dog => {
                    document.getElementsByClassName("row")[0].innerHTML += `
                <div class="col">
                    <img src="${dog.src.small}" width="100px">
                </div>`;

                });
                //esempio con ciclo for
                for (let i = 0; i < 6; i++) {
                    const dog = dogs.photos[i];
                    document.getElementsByClassName("row")[1].innerHTML += `
                <div class="col">
                    <img src="${dog.src.small}" width="100px">
                </div>`;
                }
            })
            .catch((error) => {
                console.log('error');
            })

        fetch(url + 'butterfly', {
            headers: {
                authorization: apiKey
            }
        })
            .then((response) => {
                if (response.ok) {
                    return response.json()
                } else {
                    throw new Error('non riuscita')
                }
            })
            .then((data) => {
                const butterflies = data

                butterflies.photos.forEach(butterfly => {
                    document.getElementsByClassName('row')[2].innerHTML += `
                    <div class="col">
                    <img src="${butterfly.src.medium}" width="100px">
                    </div>`
                })
            })
            .catch((error) => {
                console.log(error);
            })

        fetch(url + 'pug', {
            headers: {
                authorization: apiKey
            }
        })
        .then((response) => {
            if(response.ok) {
                return response.json();
            } else {
                throw new Error('get non avvenuta con successo')
            }
        })
        .then((data) => {
            const pugs = data;
            pugs.photos.forEach(pug => {
                document.getElementsByClassName('row')[3].innerHTML += `
                <div class="col">
                    <img src="${pug.src.medium}" width="100px">
                    </div>`
            })
        })
        .catch((error) => {
            console.log(error);
        })

        fetch(url + 'chicken', {
            headers: {
                authorization: apiKey
            }
        })
        .then((response) => {
            if(response.ok) {
                return response.json();
            } else {
                throw new Error('GET non riuscita')
            }
        })
        .then((data) => {
            const chickens = data;
            chickens.photos.forEach(chicken => {
                document.getElementsByClassName('row')[4].innerHTML += `
                <div class="col">
                    <img src="${chicken.src.medium}" width="100px">
                    </div>`
            })
        })
        .catch((error) => {
            console.log(error);
        });
    
        fetch(url + 'lizard', {
            headers: {
                authorization: apiKey
            }
        })
        .then((response) => {
            if(response.ok) {
                return response.json()
            } else {
                throw new Error('non riuscita')
            }
        })
        .then((data) => {
            const lizards = data;
            for(let i = 0; i < lizards.photos.lenght; i++) {
                
            }
        })
    </script>
</body>

</html>